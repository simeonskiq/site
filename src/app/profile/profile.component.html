<div class="profile-container">
  <h1>{{ 'profile.title' | translate }}</h1>

  <div *ngIf="error" class="error">
    {{ error | translate }}
  </div>
  <div *ngIf="successMessage" class="success">
    {{ successMessage | translate }}
  </div>

  <div *ngIf="loading">{{ 'profile.loading' | translate }}</div>

  <div *ngIf="!loading && user" class="sections">
    <section class="section">
      <h2>{{ 'profile.personalInformation' | translate }}</h2>
      <form (ngSubmit)="saveProfile()">
        <div class="form-group">
          <label>{{ 'profile.firstName' | translate }}</label>
          <input type="text" [(ngModel)]="profileForm.firstName" name="firstName" />
        </div>
        <div class="form-group">
          <label>{{ 'profile.lastName' | translate }}</label>
          <input type="text" [(ngModel)]="profileForm.lastName" name="lastName" />
        </div>
        <div class="form-group">
          <label>{{ 'profile.phone' | translate }}</label>
          <input type="tel" [(ngModel)]="profileForm.phone" name="phone" />
        </div>
        <button type="button" class="btn btn-primary" (click)="saveProfile()">{{ 'profile.save' | translate }}</button>
      </form>
    </section>

    <section class="section">
      <h2>{{ 'profile.email' | translate }}</h2>
      <form (ngSubmit)="saveEmail()">
        <div class="form-group">
          <label>{{ 'profile.email' | translate }}</label>
          <input type="email" [(ngModel)]="emailForm.email" name="email" required />
        </div>
        <p class="hint">
          {{ 'profile.emailHint' | translate }}
        </p>
        <div *ngIf="emailError" class="error">
          {{ emailError | translate }}
        </div>
        <div *ngIf="emailSuccess" class="success">
          {{ emailSuccess | translate }}
        </div>
        <button type="button" class="btn btn-primary" (click)="saveEmail()">{{ 'profile.changeEmail' | translate }}</button>
      </form>
    </section>

    <section class="section">
      <h2>{{ 'profile.password' | translate }}</h2>
      <form (ngSubmit)="savePassword()">
        <div class="form-group">
          <label>{{ 'profile.currentPassword' | translate }}</label>
          <input
            type="password"
            [(ngModel)]="passwordForm.currentPassword"
            name="currentPassword"
            required
          />
        </div>
        <div class="form-group">
          <label>{{ 'profile.newPassword' | translate }}</label>
          <input
            type="password"
            [(ngModel)]="passwordForm.newPassword"
            name="newPassword"
            required
          />
        </div>
        <button type="button" class="btn btn-primary" (click)="savePassword()">{{ 'profile.changePassword' | translate }}</button>
      </form>
    </section>
  </div>
</div>



<div class="profile-container">
  <h1>My Profile</h1>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>
  <div *ngIf="successMessage" class="success">
    {{ successMessage }}
  </div>

  <div *ngIf="loading">Loading profile...</div>

  <div *ngIf="!loading && user" class="sections">
    <section class="section">
      <h2>Personal Information</h2>
      <form (ngSubmit)="saveProfile()">
        <div class="form-group">
          <label>First Name</label>
          <input type="text" [(ngModel)]="profileForm.firstName" name="firstName" />
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type="text" [(ngModel)]="profileForm.lastName" name="lastName" />
        </div>
        <div class="form-group">
          <label>Phone</label>
          <input type="tel" [(ngModel)]="profileForm.phone" name="phone" />
        </div>
        <button type="button" class="btn btn-primary" (click)="saveProfile()">Save</button>
      </form>
    </section>

    <section class="section">
      <h2>Email</h2>
      <form (ngSubmit)="saveEmail()">
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="emailForm.email" name="email" required />
        </div>
        <p class="hint">
          This email will be used for reservations and login.
        </p>
        <div *ngIf="emailError" class="error">
          {{ emailError }}
        </div>
        <div *ngIf="emailSuccess" class="success">
          {{ emailSuccess }}
        </div>
        <button type="button" class="btn btn-primary" (click)="saveEmail()">Change Email</button>
      </form>
    </section>

    <section class="section">
      <h2>Password</h2>
      <form (ngSubmit)="savePassword()">
        <div class="form-group">
          <label>Current Password</label>
          <input
            type="password"
            [(ngModel)]="passwordForm.currentPassword"
            name="currentPassword"
            required
          />
        </div>
        <div class="form-group">
          <label>New Password</label>
          <input
            type="password"
            [(ngModel)]="passwordForm.newPassword"
            name="newPassword"
            required
          />
        </div>
        <button type="button" class="btn btn-primary" (click)="savePassword()">Change Password</button>
      </form>
    </section>
  </div>
</div>


